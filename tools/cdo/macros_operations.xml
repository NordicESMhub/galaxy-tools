<macros>
    <xml name="cdo_option">
        <conditional name="option_type">
            <param name="opt" type="select" label="Provide cdo options" optional="true" multiple="false">
                <option value="-a">Generate an absolute time axis (-a)</option>
                <option value="--cmor">CMOR conform NetCDF output (--cmor)</option>
                <option value="-f">-Output format (-f format)</option>
                <option value="-g">-g grid</option>
                <option value="-gf">-g grid filename</option>
                <option value="-M">-Indicate that the I/O streams have missing values (-M)</option>
                <option value="-m">Set the default missing value. Default is-9e+33 (-m missval)</option>
                <option value="--percentile">Percentile method (--percentile method)</option>
                <option value="--reduce_dim">Reduce NetCDF dimensions (--reduce_dim)</option>
                <option value="-R">Convert GRIB1 data from reduced to regular grid (-R)</option>
                <option value="--seed">Seed for a new sequence of pseudo-random numbers (--seed seed)</option>
                <option value="--sortname">Alphanumeric sorting of NetCDF parameter names (--sortname)</option>
                <option value="-r">Generate a relative time axis (-r)</option>
            </param>
            <when value="-a"/>
            <when value="--cmor"/>
            <when value="-f">
                <param name="output_format" type="text" label="Output format"/>
            </when>
            <when value="-g">
                <param name="grid" type="text" label="Grid" help="(option -g grid)"/>
            </when>
            <when value="-gf">
                <param name="gridfile" type="data" label="Grid file" help="(option -g gridfile)" format="txt"/>
            </when>
            <when value="-M"/>
            <when value="-m">
                <param name="missval" type="float" value="-9e+33" label="Set the default missing value"/>
            </when>
            <when value="--percentile">
                <param name="percentile" type="select" label="Percentile method">
                    <option value="nrank">nrank</option>
                    <option value="nist">nist</option>
                    <option value="rtype8">rtype8</option>
                    <option value="numpy">numpy</option>
                    <option value="numpy_lower">numpy_lower</option>
                    <option value="numpy_higher">numpy_higher</option>
                    <option value="numpy_nearest">numpy_nearest</option>
                </param>
            </when>
            <when value="--reduce_dim"/>
            <when value="-R"/>
            <when value="--seed">
                <param name="seed" type="float" value="0.0" label="Seed for a new sequence of pseudo-random numbers"/>
            </when>
            <when value="--sortname"/>
            <when value="-r"/>
        </conditional>
    </xml>
    <xml name="cdo_operator">
        <conditional name="operator">
            <param name="opt" type="select" label="Select cdo operator" multiple="false">
                <option value="copy">copy (Copy datasets)</option>
                <option value="cat">cat (Concatenate datasets)</option>
                <option value="replace">replace (Replace variables)</option>
                <option value="duplicate">duplicate (Duplicates a dataset)</option>
                <option value="mergegrid">mergegrid (Merge grid)</option>
                <option value="merge">merge (Merge datasets with different fields)</option>
                <option value="mergetime">mergetime (Merge datasets sorted by date and time)</option>
                <option value="splitcode">splitcode (Split code numbers)</option>
                <option value="splitparam">splitparam (Split parameter identifiers)</option>
                <option value="splitname">splitname (Split variable names)</option>
                <option value="splitlevel">splitlevel (Split levels)</option>
                <option value="splitgrid">splitgrid (Split grids)</option>
                <option value="splitzaxis">splitzaxis (Split z-axes)</option>
                <option value="splittabnum">splittabnum (Split parameter table numbers)</option>
                <option value="splithour">splithour (Split hours)</option>
                <option value="splitday">splitday (Split days)</option>
                <option value="splitseas">splitseas (Split seasons)</option>
                <option value="splityear">splityear (Split years)</option>
                <option value="splityearmon">splityearmon (Split in years and months)</option>
                <option value="splitmon">splitmon (Split months)</option>
                <option value="splitsel">splitsel (Split time selection)</option>
                <option value="distgrid">distgrid (Distribute horizontal grid)</option>
                <option value="collgrid">collgrid (Collect horizontal grid)</option>
                <option value="select">select (Select all fields with parameters in a user given list.)</option>
                <option value="delete">select (Delete all fields with parameters in a user given list.)</option>
            </param>
            <when value="copy">
                <param name="add_file" type="data" multiple="true" min="1" label="Additional input file" format="netcdf"/>
            </when>
            <when value="cat">
                <param name="add_file" type="data" multiple="true" min="1" label="Additional input file" format="netcdf"/>
            </when>
            <when value="replace">
                <param name="add_file" type="data" multiple="true" min="2" max="2" label="Additional input file" format="netcdf"/>
            </when>
            <when value="duplicate">
                <param name="ndup" type="integer" label="Number of duplicates, default is 2." value="2"/>
                <param name="add_file" type="data" multiple="true" min="1" max="1" label="Additional input file" format="netcdf"/>
            </when>
            <when value="mergegrid">
                <param name="add_file" type="data" multiple="true" min="1" max="1" label="Additional input file" format="netcdf"/>
            </when>
            <when value="merge">
                <param name="add_file" type="data" multiple="true" min="1" label="Additional input file" format="netcdf"/>
            </when>
            <when value="mergetime">
                <param name="add_file" type="data" multiple="true" min="1" label="Additional input file" format="netcdf"/>
            </when>
            <when value="splitcode">
                <param name="add_file" type="data" multiple="true" min="1" max="1" label="Additional input file" format="netcdf"/>
            </when>
            <when value="splitparam">
                <param name="add_file" type="data" multiple="true" min="1" max="1" label="Additional input file" format="netcdf"/>
            </when>
            <when value="splitname">
                <param name="add_file" type="data" multiple="true" min="1" max="1" label="Additional input file" format="netcdf"/>
            </when>
            <when value="splitlevel">
                <param name="add_file" type="data" multiple="true" min="1" max="1" label="Additional input file" format="netcdf"/>
            </when>
            <when value="splitgrid">
                <param name="add_file" type="data" multiple="true" min="1" max="1" label="Additional input file" format="netcdf"/>
            </when>
            <when value="splitzaxis">
                <param name="add_file" type="data" multiple="true" min="1" max="1" label="Additional input file" format="netcdf"/>
            </when>
            <when value="splittabnum">
                <param name="add_file" type="data" multiple="true" min="1" max="1" label="Additional input file" format="netcdf"/>
            </when>
            <when value="splithour">
                <param name="add_file" type="data" multiple="true" min="1" max="1" label="Additional input file" format="netcdf"/>
            </when>
            <when value="splitday">
                <param name="add_file" type="data" multiple="true" min="1" max="1" label="Additional input file" format="netcdf"/>
            </when>
            <when value="splitseas">
                <param name="add_file" type="data" multiple="true" min="1" max="1" label="Additional input file" format="netcdf"/>
            </when>
            <when value="splityear">
                <param name="add_file" type="data" multiple="true" min="1" max="1" label="Additional input file" format="netcdf"/>
            </when>
            <when value="splityearmon">
                <param name="add_file" type="data" multiple="true" min="1" max="1" label="Additional input file" format="netcdf"/>
            </when>
            <when value="splitmon">
                <param name="add_file" type="data" multiple="true" min="1" max="1" label="Additional input file" format="netcdf"/>
            </when>
            <when value="splitsel">
                <param name="nset" type="integer" value="0" label="Number of input timesteps for each output file"/>
                <param name="noffset" type="integer" optional="true" label="Number of input timesteps skipped before the first timestep range (optional)"/>
                <param name="nskip" type="integer" optional="true" label="Number of input timesteps skipped between timestep ranges (optional)"/>
                <param name="add_file" type="data" multiple="true" min="1" max="1" label="Additional input file" format="netcdf"/>
            </when>
            <when value="distgrid">
                <param name="nx" type="integer" value="1" label="Number of regions in x direction, or number of pieces for unstructured grids"/>
                <param name="ny" type="integer" label="Number of regions in y direction" value="1"/>
                <param name="add_file" type="data" multiple="true" min="1" max="1" label="Additional input file" format="netcdf"/>
            </when>
            <when value="collgrid">
                <param name="nx" type="integer" label="Number of regions in x direction" optional="true"/>
                <param name="names" type="text" label="Comma-separated list of variable names" optional="true"/>
                <param name="add_file" type="data" multiple="true" min="1" label="Additional input file" format="netcdf"/>
            </when>
            <when value="select">
                <param name="params" type="text" value="" label="Parameters for selection"/>
                <param name="add_file" type="data" multiple="true" min="1" label="Additional input file" format="netcdf"/>
            </when>
            <when value="delete">
                <param name="params" type="text" label="Parameters for deletion"/>
                <param name="add_file" type="data" multiple="true" min="1" label="Additional input file" format="netcdf"/>
            </when>
        </conditional>
    </xml>
</macros>
